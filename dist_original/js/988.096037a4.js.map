{"version":3,"file":"js/988.096037a4.js","mappings":"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","sources":["webpack://financial_system/./src/views/loan-input/index.vue","webpack://financial_system/./src/views/loan-input/configData.js","webpack://financial_system/src/views/loan-input/index.vue","webpack://financial_system/./src/views/loan-input/index.vue?b59e","webpack://financial_system/./src/views/loan-input/index.vue?5e6f","webpack://financial_system/./src/api/loan.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('EForm',{attrs:{\"config\":_vm.configData},on:{\"submit\":_vm.createLoan}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import {\r\n  TEXT,\r\n  SELECT,\r\n  TEXTAREA,\r\n  DATE_PICKER,\r\n} from '@/conf/uiTypes';\r\n\r\nexport const sexOptions = [\r\n  { value: \"man\", label: \"男\" },\r\n  { value: \"woman\", label: \"女\" }\r\n];\r\n//行业\r\nexport const companyOptions = [\r\n  { value: \"education\", label: \"教育\" },\r\n  { value: \"finance\", label: \"金融\" }\r\n];\r\n//婚否\r\nexport const marriageOptions = [\r\n  { value: \"married\", label: \"已婚\" },\r\n  { value: \"unmarried\", label: \"未婚\" }\r\n];\r\n//学历\r\nexport const educationOptions = [\r\n  { value: \"college\", label: \"大学\" },\r\n  { value: \"highschool\", label: \"高中\" }\r\n];\r\n\r\n// 优化 => data方法中，默认是会Object.defineProperty => 当触发属性的get/set => 页面的更新\r\n\r\nconst configData = Object.freeze({\r\n  cards: [\r\n    {\r\n      name: \"个人基本信息\",\r\n      children: [\r\n        [\r\n          { label: \"姓名\", key: \"name\", type: TEXT },\r\n          { label: \"出生日期\", key: \"birthday\", type: DATE_PICKER, attrs: { placeholder: \"选择日期\" } },\r\n          {\r\n            label: \"性别\",\r\n            key: \"sex\",\r\n            type: SELECT,\r\n            options: sexOptions\r\n          }\r\n        ],\r\n        [{ label: \"身份证\", key: \"identity_card\", type: TEXT }],\r\n        [\r\n          {\r\n            label: \"婚姻状态\",\r\n            key: \"marriage\",\r\n            type: \"select\",\r\n            options: marriageOptions\r\n          },\r\n          {\r\n            label: \"教育程度\",\r\n            key: \"education\",\r\n            type: \"select\",\r\n            options: educationOptions\r\n          },\r\n          { label: \"居住地址\", key: \"address1\", type: TEXT }\r\n        ],\r\n        [\r\n          { label: \"户籍地址\", key: \"address2\", type: TEXT },\r\n          { label: \"居住电话\", key: \"phone\", type: TEXT },\r\n          { label: \"手机号\", key: \"mobile_phone\", type: TEXT }\r\n        ]\r\n      ].map(row => row.map(item => ({ colSpan: 8, ...item })))\r\n    },\r\n    {\r\n      name: \"职业信息\",\r\n      children: [\r\n        [   // element原生属性\r\n          { label: \"现职公司\", key: \"company\", type: TEXT },\r\n          {\r\n            label: \"所属行业\",\r\n            attrs: { placeholder: '请选择' },\r\n            key: \"trade\",\r\n            type: \"select\",\r\n            options: companyOptions\r\n          },\r\n          { label: \"职位\", key: \"position\", type: TEXT },\r\n        ].map(item => ({ colSpan: 8, ...item })),\r\n        [\r\n          { label: \"公司类型\", key: \"company_type\", type: TEXT },\r\n          { label: \"公司电话\", key: \"company_phone\", type: TEXT },\r\n          { label: \"公司邮箱\", key: \"company_email\", type: TEXT },\r\n        ].map(item => ({ colSpan: 8, ...item })),\r\n        [{ label: \"公司地址\", key: \"address3\", type: TEXT}]\r\n      ]\r\n    },\r\n    {\r\n      name: \"收支情况\",\r\n      children: [[{ label: \"收支情况\", key: \"income\", type: TEXT, colSpan: 12 }]]\r\n    },\r\n    {\r\n      name: \"家庭联系人\",\r\n      children: [\r\n        [\r\n          { label: \"关系\", key: \"contact\", type: TEXT },\r\n          { label: \"姓名\", key: \"contact_name\", type: TEXT },\r\n          { label: \"手机\", key: \"contact_phone\", type: TEXT }\r\n        ].map(item => ({ colSpan: 12, ...item }))\r\n      ]\r\n    },\r\n    {\r\n      name: \"工作证明人\",\r\n      children: [\r\n        [\r\n          { label: \"关系\", key: \"contact2\", type: TEXT },\r\n          { label: \"姓名\", key: \"contact2_name\", type: TEXT },\r\n          { label: \"手机\", key: \"contact2_phone\", type: TEXT }\r\n        ].map(item => ({ colSpan: 12, ...item })),\r\n        [\r\n          { label: \"部门\", key: \"contact2_dep\", type: TEXT },\r\n          { label: \"职位\", key: \"contact2_pos\", type: TEXT }\r\n        ].map(item => ({ colSpan: 12, ...item })),\r\n        [{ label: \"备注\", key: \"remark\", type: TEXTAREA }]\r\n      ]\r\n    }\r\n  ],\r\n  rules: {\r\n    name: [\r\n      { required: true, message: \"请输入姓名\", trigger: \"blur\" },\r\n      {\r\n        min: 2,\r\n        max: 5,\r\n        message: \"长度在 2 到 5 个字符\",\r\n        trigger: \"blur\"\r\n      }\r\n    ],\r\n    identity_card: [\r\n      { required: true, message: \"请输入身份证\", trigger: \"blur\" }\r\n    ],\r\n    birthday: [\r\n      {\r\n        type: DATE_PICKER,\r\n        required: true,\r\n        message: \"请选择日期\",\r\n        trigger: \"change\"\r\n      }\r\n    ],\r\n    sex: [{ required: true, message: \"请选择性别\", trigger: \"change\" }],\r\n    marriage: [\r\n      { required: true, message: \"请选择婚姻状态\", trigger: \"change\" }\r\n    ],\r\n    education: [\r\n      { required: true, message: \"请选择教育程度\", trigger: \"change\" }\r\n    ],\r\n    trade: [\r\n      { required: true, message: \"请选择所属行业\", trigger: \"change\" }\r\n    ],\r\n\r\n    address1: [\r\n      { required: true, message: \"请输入居住地址\", trigger: \"blur\" }\r\n    ],\r\n    address2: [\r\n      { required: true, message: \"请输入户籍地址\", trigger: \"blur\" }\r\n    ],\r\n    phone: [{ required: true, message: \"请输入居住电话\", trigger: \"blur\" }],\r\n    mobile_phone: [\r\n      { required: true, message: \"请输入手机号\", trigger: \"blur\" }\r\n    ],\r\n    company: [\r\n      { required: true, message: \"请输入现职公司全称\", trigger: \"blur\" }\r\n    ],\r\n    position: [{ required: true, message: \"请输入职位\", trigger: \"blur\" }],\r\n    address3: [\r\n      { required: true, message: \"请输入公司地址\", trigger: \"blur\" }\r\n    ],\r\n    company_type: [\r\n      { required: true, message: \"请输入公司类型\", trigger: \"blur\" }\r\n    ],\r\n    company_email: [\r\n      { required: true, message: \"请输入公司邮箱\", trigger: \"blur\" }\r\n    ],\r\n    company_phone: [\r\n      { required: true, message: \"请输入公司电话\", trigger: \"blur\" }\r\n    ],\r\n    income: [\r\n      { required: true, message: \"请输入收支情况\", trigger: \"blur\" }\r\n    ],\r\n    contact: [{ required: true, message: \"请输入关系1\", trigger: \"blur\" }],\r\n    contact_name: [\r\n      { required: true, message: \"请输入姓名\", trigger: \"blur\" }\r\n    ],\r\n    contact_phone: [\r\n      { required: true, message: \"请输入手机\", trigger: \"blur\" }\r\n    ],\r\n    contact2: [{ required: true, message: \"请输入关系2\", trigger: \"blur\" }],\r\n    contact2_name: [\r\n      { required: true, message: \"请输入姓名\", trigger: \"blur\" }\r\n    ],\r\n    contact2_phone: [\r\n      { required: true, message: \"请输入手机\", trigger: \"blur\" }\r\n    ],\r\n    contact2_dep: [\r\n      { required: true, message: \"请输入部门\", trigger: \"blur\" }\r\n    ],\r\n    contact2_pos: [\r\n      { required: true, message: \"请输入职位\", trigger: \"blur\" }\r\n    ]\r\n  },\r\n}\r\n)\r\n\r\nexport default configData","<template>\r\n  <div>\r\n    <EForm @submit=\"createLoan\" :config=\"configData\" />\r\n    <!-- <hr />\r\n    <EForm ref=\"form2\" :config=\"configData\">\r\n      <template #btn=\"scoped\">\r\n        <el-button @click=\"test2\">提交{{ scoped }}</el-button>\r\n      </template>\r\n    </EForm> -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport configData from \"./configData\";\r\nimport {createLoanApi} from '@/api/loan'\r\nexport default {\r\n  name:'loan-input',\r\n  data() {\r\n    return {\r\n      configData,\r\n    };\r\n  },\r\n  methods: {\r\n    async createLoan(loanData) {\r\n      await createLoanApi(loanData)\r\n      this.$message.success('申请成功');\r\n    },\r\n    // test() {\r\n    //   console.log(this.$refs.form2.getData());\r\n    // },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=420a91a9&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"420a91a9\",\n  null\n  \n)\n\nexport default component.exports","import req from '@/utils/request'\r\n\r\n// 提交申请 \r\nexport const createLoanApi = (loanData) => req.post('/loan/create', loanData, { fullLoading: true })\r\n// 申请列表\r\nexport const getLoanList = (pager) => req.get('/loan/list', { params: pager })\r\n// 申请编辑更新\r\nexport const editLoanUpdate = (loanData) => req.put('/loan/update', loanData)\r\n// 申请删除\r\nexport const deleteLoanForm = (id) => req.delete('/loan/delete/' + id)\r\n// 提交审核\r\nexport const submitLoanForm = (id) => req.post('/loan/submitToApprove/', { id })\r\n// 初审通过\r\nexport const passLoan = (appId, loanId) => req.post('/approve/first/pass', { appId, loanId })\r\n// 初审拒绝\r\nexport const rejectLoan = (appId) => req.post('/approve/first/reject', { appId })\r\n// 终审查看\r\nexport const getEndLoanInfo = id => req.get('/loan/query?id=' + id);\r\n// 终审通过\r\nexport const passEndLoan = (appId) => req.post('/approve/end/pass', { appId });\r\n// 终审拒绝\r\nexport const rejectEndLoan = (appId) => req.post('/approve/end/reject', { appId });\r\n// 生成合同\r\nexport const createContractFile = (id) => req.post('/contract/createFile', { id });\r\n// 下载合同\r\nexport const downloadContractFile = (id) => req.get(`/contract/download?id=${id}`);\r\n// 生成浏览器专属 blob\r\nexport const createBlob = (url) => req({\r\n  url:url,\r\n  responseType:'blob'\r\n})\r\n"],"names":["render","_vm","this","_c","_self","attrs","configData","on","createLoan","staticRenderFns","sexOptions","value","label","companyOptions","marriageOptions","educationOptions","Object","freeze","cards","name","children","key","type","TEXT","DATE_PICKER","placeholder","SELECT","options","map","row","item","colSpan","TEXTAREA","rules","required","message","trigger","min","max","identity_card","birthday","sex","marriage","education","trade","address1","address2","phone","mobile_phone","company","position","address3","company_type","company_email","company_phone","income","contact","contact_name","contact_phone","contact2","contact2_name","contact2_phone","contact2_dep","contact2_pos","data","methods","loanData","createLoanApi","$message","success","component","req","fullLoading","editLoanUpdate","deleteLoanForm","id","submitLoanForm","passLoan","appId","loanId","rejectLoan","getEndLoanInfo","passEndLoan","rejectEndLoan","createContractFile","downloadContractFile","createBlob","url","responseType"],"sourceRoot":""}